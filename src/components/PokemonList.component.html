<div class="bg-primary min-h-screen">
  <app-navbar></app-navbar>

  <section class="rounded-lg bg-white md:mx-4 md:p-4">
    <!-- Loading state -->
    @if (loading) {
    <app-loading message="Espera un momento entrenador, estamos hablando con el profesor..." size="medium">
    </app-loading>
    }

    <!-- Error state -->
    @if (error && !loading) {
    <app-error [message]="error" buttonText="Intentar de nuevo" (retry)="onRetry()">
    </app-error>
    }

    <!-- Pokemon list -->
    @if (!loading && !error) {
    <div class="space-y-4">
      <div class="grid grid-cols-3 gap-2 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-7  xl:grid-cols-9 2xl:grid-cols-12">
        @for (pokemon of filteredList; track i; let i = $index) {
        <app-pokemon-card [pokemonData]="pokemon"></app-pokemon-card>
        }
      </div>

      <!-- Loading more indicator -->
      @if (loadingMore) {
      <app-loading message="Cargando más Pokémon..." size="small">
      </app-loading>
      }

      <!-- Ver más button - only show when not searching -->
      @if (!loadingMore && !error && filteredList.length === pokemonList.length) {
      <app-ver-mas (loadMore)="loadMorePokemon()"></app-ver-mas>
      }
    </div>
    }
  </section>
</div>