<div class="bg-primary min-h-screen">
  <app-navbar></app-navbar>
  
  <section class="rounded-lg bg-white mx-4 p-4">
    <!-- Loading state -->
    <app-loading 
      *ngIf="loading" 
      message="Espera un momento entrenador, estamos hablando con el profesor..." 
      size="medium">
    </app-loading>

    <!-- Error state -->
    <app-error 
      *ngIf="error && !loading" 
      [message]="error" 
      buttonText="Intentar de nuevo"
      (retry)="onRetry()">
    </app-error>

    <!-- Pokemon list -->
    <div *ngIf="!loading && !error" class="space-y-4">
      <div class="h-[calc(100svh-200px)] grid grid-cols-3 gap-2 md:grid-cols-[repeat(auto-fit,_minmax(150px,_1fr))] justify-items-center overflow-auto">
        <app-pokemon-card *ngFor="let pokemon of filteredList; let i = index" [pokemonData]="pokemon"></app-pokemon-card>
      </div>
      
      <!-- Loading more indicator -->
      <app-loading 
        *ngIf="loadingMore" 
        message="Cargando más Pokémon..." 
        size="small">
      </app-loading>
      
      <!-- Ver más button - only show when not searching -->
      <app-ver-mas *ngIf="!loadingMore && !error && filteredList.length === pokemonList.length" (loadMore)="loadMorePokemon()"></app-ver-mas>
    </div>
  </section>
</div>